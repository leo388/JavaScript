<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style type="text/css">
	*{margin:0px; padding:0px;}
	body{background-color: #EAEAEA;}
	a{text-decoration: none; font-size: 50px; display: block; background: #7B799C; border-radius: 20%; position: absolute; color:#FFF; width: 50px;line-height: 50px; text-align:center; top: 175px;}
	.prev{left:10px; }
	.next{right:10px; }
	ul{position: relative;}
	ul li{list-style: none;}
	#box{width: 800px; height: 400px; position: relative;margin:100px auto; border:3px solid gray; overflow: hidden;}
	#box #pbox{width: 2400px; font-size: 100px;height: 400px; text-align: center; position:absolute;left: 0px; height: 0px;
		-webkit-transition:all 1s; }
	#box #pbox li{ width: 800px;height: 400px;  float: left;}

	#libox{width: 148px; height: 35px; background-color: #6B6B9C; position: absolute; left: 320px; bottom: 0px; padding-left: 24px; border-radius: 35px;}
	#libox li{width: 30px; height: 30px; border-radius: 100%; border:2px solid #FBF498; margin:0.5px 10px auto 0px; float: left; cursor: pointer;}
	.active{background-color: #FDFDFD;}

	#info{display: block; width: 800px; height: 80px; position: absolute; background-color: #252525; bottom: 0px; left: 0px; opacity: 0.6;
			color: #FFF; font-size: 50px; }
</style>
<body>
	<div id="box">
		<ul id="pbox">
		
			<li><img src="img/a.jpg"></li>
			<li><img src="img/s.jpg"></li>
			<li><img src="img/d.jpg"></li>

		</ul>
		
		<p id="info">秋天落叶</p>
		
		<ul id="libox">
			<li date-index="0" class="active"</li>
			<li date-index="1"></li>
			<li date-index="2"></li>
		</ul>

		<a href="#" class="prev" style="display:none">&lt;</a>
		<a href="#" class="next" style="display:none">&gt;</a>
	</div>
</body>
<script type="text/javascript">
	var obox = document.getElementById('box'),
		opbox = document.getElementById('pbox'),
		olibox = document.getElementById('libox'),
		lis = olibox.getElementsByTagName('li'),
		otext = document.getElementById('info'),
		prev = obox.getElementsByTagName('a')[0],
		next = obox.getElementsByTagName('a')[1];
		
//------------------------------------------------------
		var a = 0;
		var srcs = [ "img/a.jpg","img/d.jpg","img/s.jpg" ];
		var	texts = ["秋天落叶","维港景色","法国巴黎"];

		function rota()
		{	
			

			for(var j = 0; j < lis.length; j++)
			{
				lis[j].className = '';
			}
			lis[a].className = 'active';
			otext.textContent = texts[a]; 


			//opbox.style.left = a * -800 + 'px';
			
			//console.log("translate3d(" + (a*-800) + "px,0px,0px)");

			opbox.style.webkitTransform = 'translate(' + (a*-800) + 'px,0px)';//css属性

		}

		for(var i = 0; i < lis.length; i++)
		{
			lis[i].addEventListener('click',change,false);

			function change()
			{	
				a = this.getAttribute('date-index');
				rota();
			}
		}
//-----------------------------------------------------------------------------
		prev.addEventListener('click',back,false);
		next.addEventListener('click',go,false);

		obox.addEventListener('mouseover',dis,false);
		obox.addEventListener('mouseout',hid,false);

		function dis()
		{
			prev.style.display = 'block';
			next.style.display = 'block';
		}

		function hid()
		{
			prev.style.display = 'none';
			next.style.display = 'none';
		}

		function back()
		{	
			a<1 ? a = lis.length-1 : a--

			rota();
		}

		function go()
		{
			a>lis.length-2 ? a = 0 : a++
			
			rota();
		}

	 

</script>
</html>
